<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Planning Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .input-group { margin-bottom: 1rem; }
        .input-row { display: flex; gap: 1rem; margin-bottom: 1rem; }
        .input-row .input-group { flex: 1; }
        input[type="number"], select { 
            width: 100%; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem; 
        }
        input[style*="display:none"] { display: none !important; }
        small { display: block; color: #6b7280; font-size: 0.875rem; margin-top: 0.25rem; }
    </style>
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-lg p-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-8">Financial Needs Calculator</h1>
        
        <!-- Section 2: Dependants -->
        <section id="section2" class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-900 mb-6 border-b pb-2">Dependants</h2>
            <!-- Original content goes here, add these after "Number of other dependants" -->
            <div class="input-group">
                <h3 class="font-medium text-gray-900 mb-2">Children with special needs?</h3>
                <label class="flex items-center mb-2">
                    <input type="checkbox" id="specialNeedsChildren" class="mr-2 w-4 h-4 text-blue-600">
                    Yes
                </label>
                <input type="number" id="specialNeedsAges" placeholder="Age(s)" class="hidden">
            </div>
            <div class="input-group">
                <h3 class="font-medium text-gray-900 mb-2">Dependants' life expectancy (years)</h3>
                <input type="number" id="dependantsLifeExpectancy" value="80" min="0">
            </div>
        </section>

        <!-- Section 3: Expenses -->
        <section id="section3" class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-900 mb-6 border-b pb-2">Expenses</h2>
            <!-- Original content goes here, add these after respective fields -->
            <!-- After Outstanding housing loan -->
            <div class="input-group">
                <h3 class="font-medium text-gray-900 mb-2">Mortgage years remaining</h3>
                <input type="number" id="mortgageYearsLeft" value="20" min="0">
            </div>
            
            <!-- After Education expenses -->
            <div class="input-row">
                <div class="input-group">
                    <h3 class="font-medium text-gray-900 mb-2">CI Recovery Period</h3>
                    <select id="ciRecoveryPeriod">
                        <option value="1">1 year</option>
                        <option value="3" selected>3 years</option>
                        <option value="5">5 years</option>
                        <option value="7">7 years</option>
                        <option value="10">10+ years</option>
                    </select>
                </div>
                <div class="input-group">
                    <h3 class="font-medium text-gray-900 mb-2">Renting property?</h3>
                    <label class="flex items-center mb-2">
                        <input type="checkbox" id="rentingProperty" class="mr-2 w-4 h-4 text-blue-600">
                        Yes (annual S$)
                    </label>
                    <input type="number" id="annualRent" placeholder="S$" class="hidden">
                </div>
            </div>
        </section>

        <!-- Section 4: Resources (COMPLETE REPLACEMENT) -->
        <section id="section4" class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-900 mb-6 border-b pb-2">Resources</h2>
            <div class="input-row">
                <div class="input-group">
                    <h3 class="font-medium text-gray-900 mb-2">Savings - Mortality Needs</h3>
                    <input type="number" id="savingsMortality" value="190000" min="0">
                    <small>Cash for dependants if you pass away</small>
                </div>
                <div class="input-group">
                    <h3 class="font-medium text-gray-900 mb-2">Investments - Mortality Needs</h3>
                    <input type="number" id="investmentsMortality" value="0" min="0">
                </div>
            </div>
            <div class="input-row">
                <div class="input-group">
                    <h3 class="font-medium text-gray-900 mb-2">Savings - CI/Living Needs</h3>
                    <input type="number" id="savingsCI" value="0" min="0">
                    <small>Cash for medical/living if diagnosed</small>
                </div>
                <div class="input-group">
                    <h3 class="font-medium text-gray-900 mb-2">Investments - CI/Living Needs</h3>
                    <input type="number" id="investmentsCI" value="0" min="0">
                </div>
            </div>
            <div class="input-group">
                <h3 class="font-medium text-gray-900 mb-2">Total CPF (all accounts)</h3>
                <input type="number" id="totalCPF" value="130000" min="0">
            </div>
        </section>

        <button class="bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700">
            Calculate Needs
        </button>
    </div>

    <script>
        // Show/hide functionality for checkboxes
        document.getElementById('specialNeedsChildren').addEventListener('change', function() {
            document.getElementById('specialNeedsAges').classList.toggle('hidden', !this.checked);
        });
        
        document.getElementById('rentingProperty').addEventListener('change', function() {
            document.getElementById('annualRent').classList.toggle('hidden', !this.checked);
        });
    </script>
</body>
</html>
